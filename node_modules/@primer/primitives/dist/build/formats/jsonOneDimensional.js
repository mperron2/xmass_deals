"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.jsonOneDimensional = void 0;
const sync_1 = __importDefault(require("@prettier/sync"));
const jsonToFlat_1 = require("./utilities/jsonToFlat");
/**
 * @description Takes a style dictionary token dictionary and converts it to a one dimensional json object.
 * @param StyleDictionary.FormatterArguments
 * @param options.nameSeparator - separator to use for nested token name
 * @returns formatted json `string`
 */
const jsonOneDimensional = ({ dictionary, file: _file, options }) => {
    // option to allow verbose output (object) or just the value
    const { outputVerbose } = options;
    const tokens = (0, jsonToFlat_1.jsonToFlat)(dictionary.allTokens, outputVerbose);
    // add file header and convert output
    const output = JSON.stringify(tokens, null, 2);
    // return prettified
    return sync_1.default.format(output, { parser: 'json', printWidth: 500 });
};
exports.jsonOneDimensional = jsonOneDimensional;
