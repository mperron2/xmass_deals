"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.jsonPostCssFallback = void 0;
const sync_1 = __importDefault(require("@prettier/sync"));
/**
 * @description Takes a style dictionary token dictionary and converts it to a one dimensional json object.
 * @param StyleDictionary.FormatterArguments
 * @param options.nameSeparator - separator to use for nested token name
 * @returns formatted json `string`
 */
const jsonPostCssFallback = ({ dictionary, file: _file }) => {
    const tokens = Object.fromEntries(dictionary.allTokens.map(token => [`--${token.name}`, token.value]));
    // add file header and convert output
    const output = JSON.stringify(tokens, null, 2);
    // return prettified
    return sync_1.default.format(output, { parser: 'json', printWidth: 500 });
};
exports.jsonPostCssFallback = jsonPostCssFallback;
