"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.colorToRgbAlpha = void 0;
const filters_1 = require("../filters");
const alpha_1 = require("./utilities/alpha");
const getTokenValue_1 = require("./utilities/getTokenValue");
/**
 * @description replaces tokens value with `rgba` color using the tokens `alpha` property to specify the value used for alpha
 * @type value transformer â€” [StyleDictionary.ValueTransform](https://github.com/amzn/style-dictionary/blob/main/types/Transform.d.ts)
 * @matcher matches all tokens of $type `color` with an `alpha` property
 * @transformer returns `rgba` string
 */
exports.colorToRgbAlpha = {
    type: `value`,
    transitive: true,
    matcher: filters_1.isColorWithAlpha,
    transformer: (token) => {
        if (token.alpha === null)
            return (0, getTokenValue_1.getTokenValue)(token);
        return (0, alpha_1.alpha)((0, getTokenValue_1.getTokenValue)(token), token.alpha, token);
    },
};
