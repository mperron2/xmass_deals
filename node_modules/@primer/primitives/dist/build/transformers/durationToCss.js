"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.durationToCss = void 0;
const isDuration_1 = require("../filters/isDuration");
/**
 * @description converts duration tokens string value to number with `ms` unit
 * @type value transformer â€” [StyleDictionary.ValueTransform](https://github.com/amzn/style-dictionary/blob/main/types/Transform.d.ts)
 * @matcher matches all tokens of $type `duration`
 * @transformer returns a css duration
 */
exports.durationToCss = {
    type: `value`,
    transitive: true,
    matcher: isDuration_1.isDuration,
    transformer: (token, _options) => {
        // throw an error if token value is not a string or does not end with `ms`
        if (typeof token.value !== `string` || !token.value.endsWith(`ms`)) {
            throw new Error(`duration token value must be a string with an "ms" unit`);
        }
        // get value
        let value = parseInt(token.value.replace('ms', ''));
        let unit = `ms`;
        if (value >= 1000) {
            value = value / 1000;
            unit = `s`;
        }
        // return value
        return `${value}${unit}`;
    },
};
