"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validateType = void 0;
const zod_1 = require("zod");
const joinFriendly_1 = require("../utilities/joinFriendly");
const schemaErrorMessage_1 = require("../utilities/schemaErrorMessage");
const validTypes = [
    'color',
    'typography',
    'dimension',
    'duration',
    'border',
    'shadow',
    'fontFamily',
    'fontWeight',
    'number',
    'string',
    'custom-viewportRange',
];
// eslint-disable-next-line @typescript-eslint/ban-ts-comment
// @ts-ignore: TODO: fix this
exports.validateType = zod_1.z.record(zod_1.z.string(), zod_1.z.lazy(() => {
    return zod_1.z.union([
        zod_1.z
            .object({
            $value: zod_1.z.any(),
            $type: zod_1.z.string().refine(type => validTypes.includes(type), val => ({
                message: (0, schemaErrorMessage_1.schemaErrorMessage)(`Invalid token $type: "${val}"`, `Must be one of the following: ${(0, joinFriendly_1.joinFriendly)([...validTypes], 'or')}`),
            })),
        })
            .required(),
        exports.validateType,
    ]);
}));
